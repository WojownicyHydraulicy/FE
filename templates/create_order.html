<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formularz zg≈Çoszenia</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/create_order.css') }}">
</head>
<body>
  <header class="site-header">
    <div class="container">
        <div class="header-content">
            <h1 class="app-title">Formularz Zg≈Çoszenia</h1>
            <nav class="main-nav">
                <a href="/login/" class="nav-button">
                    <span class="btn-icon">üîê</span>
                    <span>Logowanie</span>
                </a>
                <a href="/" class="nav-button">
                    <span class="btn-icon">üè†</span>
                    <span>Strona g≈Ç√≥wna</span>
                </a>
            </nav>
        </div>
    </div>
  </header>

  <main class="main-content">
    <div class="container">
        <div class="form-container">
            <div class="centered-logo">
                <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="logo-image-centered">
            </div>
            
            <h2 class="section-title section-title-centered">Formularz Zg≈Çoszenia Usterki</h2>
            
            <p class="section-subtitle">Wype≈Çnij poni≈ºszy formularz, aby zg≈Çosiƒá usterkƒô</p>
            
            <form id="orderForm" action="/create_order/" method="post" enctype="multipart/form-data" autocomplete="off">
          <div class="form-group">
            <label>Imiƒô i nazwisko</label>
            <input type="text" name="name" required>
          </div>
          <div class="form-group">
            <label>Telefon</label>
            <input type="text" name="telephone" required>
          </div>
          <div class="form-group">
            <label>Miasto</label>
            <select name="city" id="citySelect" required>
              <option value="">Wybierz miasto...</option>
            </select>
          </div>
          <div class="form-group">
            <label>Ulica</label>
            <input type="text" name="street" required>
          </div>
          <div class="form-group">
            <label>Kod pocztowy</label>
            <input type="text" name="post_code" required>
          </div>
          <div class="form-group">
            <label>Numer domu</label>
            <input type="text" name="house_nr" required>
          </div>
          <div class="form-group">
            <label>Opis usterki</label>
            <textarea name="description" rows="4" required></textarea>
          </div>
          <div class="form-group">
            <label>Wskazanie pilno≈õci</label>
            <select name="urgency" required>
              <option value="">Wybierz priorytet...</option>
              <option value="Niski priorytet">Niski priorytet</option>
              <option value="Pilne">Pilne</option>
            </select>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" required>
          </div>
          <div class="form-group">
            <label>Metoda p≈Çatno≈õci</label>
            <select name="payment_method" required>
              <option value="">Wybierz metodƒô p≈Çatno≈õci...</option>
              <option value="Karta">Karta</option>
              <option value="Got√≥wka">Got√≥wka</option>
            </select>
          </div>
          <div class="form-group">
            <label>Dokument sprzeda≈ºy</label>
            <select name="sales_document" id="salesDocumentSelect" required>
              <option value="">Wybierz dokument sprzeda≈ºy...</option>
              <option value="Faktura">Faktura</option>
              <option value="Paragon">Paragon</option>
            </select>
          </div>
          <div id="invoiceFields" style="display:none;">
            <div class="form-group">
              <label>Nazwa firmy</label>
              <input type="text" name="billing_name">
            </div>
            <div class="form-group">
              <label>Adres</label>
              <input type="text" name="billing_address">
            </div>
            <div class="form-group">
              <label>Miejscowo≈õƒá</label>
              <input type="text" name="billing_city">
            </div>
            <div class="form-group">
              <label>Kod pocztowy</label>
              <input type="text" name="billing_postcode">
            </div>
            <div class="form-group">
              <label>Kraj</label>
              <input type="text" name="billing_country">
            </div>
            <div class="form-group">
              <label>Telefon</label>
              <input type="text" name="billing_phone">
            </div>
            <div class="form-group">
              <label>NIP</label>
              <input type="text" name="billing_tax_id">
            </div>
          </div>
          <div class="form-group">
            <label>Zdjƒôcie (opcjonalnie)</label>
            <input type="file" name="photo" accept="image/*">
          </div>
          <button type="submit" id="submitBtn">Wy≈õlij zg≈Çoszenie</button>
          <div id="spinner" class="spinner" style="display:none;"></div>
        </form>
            <div id="result"></div>
        </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Hydropol Sp≈Çuczka z. o. o</p>
    </div>
  </footer>

  <div id="overlaySpinner" class="overlay hidden">
    <div class="loader"></div>
  </div>
  <div id="overlayModal" class="overlay hidden">
    <div class="modal-box">
      <p id="modalMessage"></p>
      <button id="modalClose">OK</button>
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/create_order.js') }}"></script>
</body>
</html>